<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>KID STORIES FOR SPORT DADS</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript" src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b3/jquery.mobile-1.0b3.min.css"/>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.3.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.0b3/jquery.mobile-1.0b3.min.js"></script>
	<script type="text/javascript" src="http://www.modernizr.com/downloads/modernizr-latest.js"></script>
	<link rel="stylesheet" href="style.css" />
	</head>
	<body>
	<section data-role="page" id="pagePreferences">
	<img src="img/bannerSM2.jpg" />
	 <section data-role="header">
       <h2>Personalize your story</h2> 
    </section>
    <section data-role="content">
	<ul data-role="listview" data-inset="true">
	
	<script type="text/javascript">
	//PREFERENCES VALUES
		var myName = "A4CSportsName";
		var myAge = "A4CSportsAge";	
		var myCity = "A4CSportsCity";
		var myTeamName = "A4CTeamName";
		var myPlayerName = "A4CPlayerName";
		var myTeamId = "A4CTeamId";
		var myRemember = "A4CSportsRem";
		
		
        $('#pagePreferences').live('pagecreate', function() {
            if (Modernizr.localstorage) {
                showStoreValue();
            }
            else {
               // $('#message').text("Unfortunately your browser doesn't support local storage");
                $('#addToStorage').attr('disabled', 'disabled');
               // $('#message').show();
            }
            $('#addToStorage').click(function(e) {               
				localStorage.setItem(myName, $('#myName').val());
				localStorage.setItem(myAge, $('#myAge').val());		
				localStorage.setItem(myCity, $('#myCity').val());
				localStorage.setItem(myRemember, $('input[name="myRemember"]:checked').val());			
				//team name and id are set on the switch of the select control
				showStoreValue();
                e.preventDefault();
            });
        });

        function showStoreValue() {            
		
			var _myName = localStorage.getItem(myName);
			var _myAge = localStorage.getItem(myAge);
			var _myCity = localStorage.getItem(myCity);
			var _myTeamName = localStorage.getItem(myTeamName);
			var _myPlayerName = localStorage.getItem(myPlayerName);
			var _myTeamId = localStorage.getItem(myTeamId);
			var _myRemember = localStorage.getItem(myRemember);	

			
			//name
			if (_myName != null){                
				document.getElementById("myName").setAttribute("value", _myName);	
			}            
						
			//age
			if (_myAge != null){                
				document.getElementById("myAge").setAttribute("value", _myAge);	
			}
            			
			//city
			if (_myCity != null){                
				document.getElementById("myCity").setAttribute("value", _myCity);	
			}
			
			
			
			$('.storeItem').text("Name: " + _myName); 
			$('.storeItem2').text("Jersey #: " + _myAge);
			$('.storeItem3').text("City: " + _myCity);
			$('.storeItem4').text("Team: " + _myTeamName);
			$('.storeItem5').text("Team Id: " + _myTeamId);
			$('.storeItem6').text("Player: " + _myPlayerName);	
 
        }
	
	
	//END PREFERENCES VALUES
	
	//CREATE A NFL TEAM ARRAY
	var teamLists = new Array(1);
	teamLists["NFL"] = new Array();
	
	
		teamLists["NFL"].push(["TEN - Tennesse Titans"]);	
		teamLists["NFL"].push(["NYG - New York Giants"]);
		teamLists["NFL"].push(["PIT - Pittspurgh Steelers"]); 	
		teamLists["NFL"].push(["CAR - Carolina Panthers"]); 	
		teamLists["NFL"].push(["BAL - Baltimore Ravens"]); 
		teamLists["NFL"].push(["TB - Tampa Bay Buccaneers"]); 		
		teamLists["NFL"].push(["IND - Indianapolis Colts"]); 		 	
		teamLists["NFL"].push(["MIN - Minnesotta Vikings"]); 	
	 	teamLists["NFL"].push(["ARI - Arizona Cardinals"]); 	
		teamLists["NFL"].push(["DAL - Dallas Cowboys"]); 	
		teamLists["NFL"].push(["ATL - Atlanta Falcons"]); 	
		teamLists["NFL"].push(["NYJ - New York Jets"]); 	
		teamLists["NFL"].push(["DEN - Denver Broncos"]); 
		teamLists["NFL"].push(["MIA - Miami Dolphins"]); 
		teamLists["NFL"].push(["PHI - Philadelphia Eagles"]); 	
		teamLists["NFL"].push(["CHI - Chicago Bears"]); 	
		teamLists["NFL"].push(["NE - New England Patriots"]); 	
		teamLists["NFL"].push(["WAS - Washington Redskins"]); 	
		teamLists["NFL"].push(["GB - Green Bay Packers"]); 	
		teamLists["NFL"].push(["SD - San Diego Chargers"]); 	
		teamLists["NFL"].push(["NO - New Orelans Saints"]); 
		teamLists["NFL"].push(["HOU - Houstan Texans"]); 	
		teamLists["NFL"].push(["BUF - Buffalo Bills"]); 		 	
		teamLists["NFL"].push(["SF - San Francisco 49ers"]); 	 	
		teamLists["NFL"].push(["JAC - Jacksonville Jaguars"]); 		 	
		teamLists["NFL"].push(["CLE - Cleveland Browns"]); 		 	
		teamLists["NFL"].push(["OAK - Oakland Raiders"]); 		 	
		teamLists["NFL"].push(["KC - Kansas City Chiefs"]); 	 	
		teamLists["NFL"].push(["STL - St. Louis Rams"]); 		 	
		teamLists["NFL"].push(["SEA - Seattle Seahawks"]); 		 	
		teamLists["NFL"].push(["CIN - Cinncinatti Bengals"]); 	
		teamLists["NFL"].push(["DET - Detroit Lions"]); 
		
		//global variable to capture the selected team array name
		var selectedTeamArray;

	//CREATE A NFL TEAM ARRAY
		var playerLists = new Array(32);
		playerLists["TEN - Tennesse Titans"] = new Array();	
		playerLists["NYG - New York Giants"]= new Array();	
		playerLists["PIT - Pittspurgh Steelers"]= new Array();	 	
		playerLists["CAR - Carolina Panthers"]= new Array();		
		playerLists["BAL - Baltimore Ravens"]= new Array();	
		playerLists["TB - Tampa Bay Buccaneers"]= new Array();	 		
		playerLists["IND - Indianapolis Colts"]= new Array();			 	
		playerLists["MIN - Minnesotta Vikings"]= new Array();		
	 	playerLists["ARI - Arizona Cardinals"]= new Array();		
		playerLists["DAL - Dallas Cowboys"]= new Array();		
		playerLists["ATL - Atlanta Falcons"]= new Array();		
		playerLists["NYJ - New York Jets"]= new Array();		
		playerLists["DEN - Denver Broncos"]= new Array();	 
		playerLists["MIA - Miami Dolphins"]= new Array();	
		playerLists["PHI - Philadelphia Eagles"]= new Array();	 	
		playerLists["CHI - Chicago Bears"]= new Array();	 	
		playerLists["NE - New England Patriots"]= new Array();	 	
		playerLists["WAS - Washington Redskins"]= new Array();	 	
		playerLists["GB - Green Bay Packers"]= new Array();	 	
		playerLists["SD - San Diego Chargers"]= new Array();		
		playerLists["NO - New Orelans Saints"]= new Array();	 
		playerLists["HOU - Houstan Texans"]= new Array();	 	
		playerLists["BUF - Buffalo Bills"]= new Array();			 	
		playerLists["SF - San Francisco 49ers"]= new Array();		 	
		playerLists["JAC - Jacksonville Jaguars"]= new Array();	 		 	
		playerLists["CLE - Cleveland Browns"]= new Array();	 		 	
		playerLists["OAK - Oakland Raiders"]= new Array();			 	
		playerLists["KC - Kansas City Chiefs"]= new Array();		 	
		playerLists["STL - St. Louis Rams"]= new Array();			 	
		playerLists["SEA - Seattle Seahawks"]= new Array();		 	
		playerLists["CIN - Cinncinatti Bengals"]= new Array();	 	
		playerLists["DET - Detroit Lions"]= new Array();	 
		
		
		//the pic images are named the same as the player name
		playerLists["TEN - Tennesse Titans"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Titans.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		playerLists["TEN - Tennesse Titans"].push({ name: "Player 2", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Titans.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 2.png"})
		playerLists["TEN - Tennesse Titans"].push({ name: "Player 3", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Titans.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 3.png"})
		
		playerLists["NYG - New York Giants"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Giants.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		playerLists["NYG - New York Giants"].push({ name: "Player 2", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Giants.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 2.png"})
		playerLists["NYG - New York Giants"].push({ name: "Player 3", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Giants.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 3.png"})
		
		playerLists["PIT - Pittspurgh Steelers"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Steelers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	
		playerLists["PIT - Pittspurgh Steelers"].push({ name: "Player 2", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Steelers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 2.png"})
		playerLists["PIT - Pittspurgh Steelers"].push({ name: "Player 3", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Steelers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 3.png"})
		
		playerLists["CAR - Carolina Panthers"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Panthers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	
		
		playerLists["BAL - Baltimore Ravens"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Ravens.png" , pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		
		playerLists["TB - Tampa Bay Buccaneers"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Bucaneers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})		
		
		playerLists["IND - Indianapolis Colts"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Colts.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})			 	
		
		playerLists["MIN - Minnesotta Vikings"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Vikings.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
	 	
	 	playerLists["ARI - Arizona Cardinals"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Cardinals.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})		
		
		playerLists["DAL - Dallas Cowboys"].push({ name: "RB Tyler Clutts", profile: "AGE:  29  HT: 6ft 2inch  WT: 230lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Cowboys.png", pic: "img/Football/Pic/RB Tyler Clutts.png" })
		playerLists["DAL - Dallas Cowboys"].push({ name: "WR Cole Beasley", profile: "AGE:  25  HT: 5ft 8inch  WT: 180lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Cowboys.png", pic: "img/Football/Pic/WR Cole Beasley.png" })
		playerLists["DAL - Dallas Cowboys"].push({ name: "TE Gavin Escobar", profile: "AGE:  23  HT: 6ft 6inch  WT: 260lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Cowboys.png", pic: "img/Football/Pic/TE Gavin Escobar.png" })
		playerLists["DAL - Dallas Cowboys"].push({ name: "QB Tony Romo", profile: "AGE: 35 HT:	6ft 2inch	WT: 236lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Cowboys.png", pic: "img/Football/Pic/QB Tony Romo.png" })
					
		
		playerLists["ATL - Atlanta Falcons"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Falcons.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		playerLists["ATL - Atlanta Falcons"].push({ name: "Player 2", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Falcons.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		playerLists["ATL - Atlanta Falcons"].push({ name: "Player 3", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Falcons.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		playerLists["ATL - Atlanta Falcons"].push({ name: "Player 4", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Falcons.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});
		
		playerLists["NYJ - New York Jets"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Jets.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});		
		playerLists["DEN - Denver Broncos"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Broncos.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 
		playerLists["MIA - Miami Dolphins"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Dolphins.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	
		playerLists["PHI - Philadelphia Eagles"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Eagles.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 	
		playerLists["CHI - Chicago Bears"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Bears.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});	 	
		playerLists["NE - New England Patriots"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Patriots.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});	 	
		playerLists["WAS - Washington Redskins"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Redskins.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});	 	
		playerLists["GB - Green Bay Packers"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Packers.png" , pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 	
		playerLists["SD - San Diego Chargers"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Chargers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})		
		playerLists["NO - New Orelans Saints"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Saints.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});	 
		playerLists["HOU - Houstan Texans"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Texans.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 	
		playerLists["BUF - Buffalo Bills"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Bills.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})			 	
		playerLists["SF - San Francisco 49ers"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/49ers.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});		 	
		playerLists["JAC - Jacksonville Jaguars"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Jaguars.png" , pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 		 	
		playerLists["CLE - Cleveland Browns"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Browns.png" , pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 		 	
		playerLists["OAK - Oakland Raiders"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Raiders.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});		 	
		playerLists["KC - Kansas City Chiefs"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Chiefs.png" , pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});		 	
		playerLists["STL - St. Louis Rams"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Rams.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});			 	
		playerLists["SEA - Seattle Seahawks"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Seahawks.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"});		 	
		playerLists["CIN - Cinncinatti Bengals"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Bengals.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})	 	
		playerLists["DET - Detroit Lions"].push({ name: "Player 1", profile: "AGE: 00 HT:	0ft 0inch	WT: 000lbs", teamLogo: "http://bsccart.appspot.com/Sports/img/Football/Lions.png", pic: "http://bsccart.appspot.com/Sports/img/Football/Pic/Player 1.png"})
		
	
	
	
	
		
	
  
//<![CDATA[
// array of possible countries in the same order as they appear in the country selection list

 
function leagueChange(selectObj) {
	// get the index of the selected option
	var idx = selectObj.selectedIndex;
	// get the value of the selected option
	var which = selectObj.options[idx].value;
	// use the selected option value to retrieve the list of items from the teamLists array
	cList = teamLists[which];	
	// get the team select element via its known id
	var cSelect = document.getElementById("teamSelect");
	// remove the current options from the team select
	var len=cSelect.options.length;
	while (cSelect.options.length > 0) {
		cSelect.remove(0);
	}
	var newOption;
	// create new options
	for (var i=0; i<cList.length; i++) {
		newOption = document.createElement("option");
		newOption.value = cList[i];  // assumes option string and value are the same
		newOption.text=cList[i];
		// add the new option
		try {
			cSelect.add(newOption);  // this will fail in DOM browsers but is needed for IE
		}
		catch (e) {
			cSelect.appendChild(newOption);
		}
	}
	
}

function teamChange(selectObj) {
	
	// get the index of the selected option
	var idx = selectObj.selectedIndex;
	// get the value of the selected option
	var which = selectObj.options[idx].value;
	// use the selected option value to retrieve the list of items from the playerLists array
	cList = playerLists[which];	
	// get the player select element via its known id
	var cSelect = document.getElementById("playerSelect");
	// remove the current options from the player select
	var len=cSelect.options.length;
	while (cSelect.options.length > 0) {
		cSelect.remove(0);
	}
	var newOption;
	// create new options
	for (var i=0; i<cList.length; i++) {
		newOption = document.createElement("option");
		newOption.value = cList[i].name;  // assumes option string and value are the same
		newOption.text=cList[i].name;
		var imgTeam = document.getElementById("imgTeam");
		imgTeam.src = cList[i].teamLogo;	
		
		// add the new option
		try {
			cSelect.add(newOption);  // this will fail in DOM browsers but is needed for IE
			
		}
		catch (e) {
			cSelect.appendChild(newOption);

		}
	}
	//assign the value to localstorage
	showWidget(which);
	
	//assign the selected team value to the global variable for use in playerChange()
	selectedTeamArray = which;
	
	
}

function playerChange(selectObj) {
	
	doSndEffect();
	
	// get the index of the selected option
	var idx = selectObj.selectedIndex;
	
	//show the player's pic	and profile
	var imgPic = document.getElementById("imgPic");
	
	imgPic.src = "img/Football/Pic/"+ selectObj.options[idx].value +".png";	
    document.getElementById("pProfile").innerHTML = playerLists[selectedTeamArray][idx].name + "-" + playerLists[selectedTeamArray][idx].profile
	
	//assign the selected player to localstorage
	localStorage.setItem("A4CPlayerName", selectObj.options[idx].value);
	
}

function doSndEffect(){
	var snd = new Audio("http://soundbible.com/grab.php?id=2017&type=wav"); 
	snd.play();
}

function showWidget(x){
	
	//extract the team id
	var strMark = x.indexOf("-");
	var strId=""; 
	
	/*
	if (strMark == 4){
		strId = x.substring(0,3);
	}
	else{
		strId = x.substring(0,2);
	}
	*/
	strId = x.substr(0, strMark - 1)
	
	//store values
	localStorage.setItem("A4CTeamName", x);
	localStorage.setItem("A4CTeamId", strId);
	localStorage.setItem("A4CLeague", "football/nfl");
	//redirect to new page 	
	//window.location.href = 'Team.html';        
}


function validateProfile(){
	//validate that the profile has been entered
	var league = document.getElementById("leagueSelect");
	var team = document.getElementById("teamSelect");
	var city = document.getElementById("myCity");
	var name = document.getElementById("myName");
	var age = document.getElementById("myAge");
	
	
	if (league.selectedIndex == 0){
		alert('Please select the league.');
		league.focus();
	}
	else if (team.selectedIndex == 0){
		alert('Please select the team.');
		team.focus();
	}
	else if(name.value == "" || name.value.length < 1){
		alert('Please enter your name.');
		name.focus();
	}
	else if (localStorage.getItem("A4CSportsName") == null || localStorage.getItem("A4CSportsName") == "" && name.value.length > 1){
		alert('Please remember to complete Step 3 next time to save your Name value!');
		localStorage.setItem("A4CSportsName", name.value);
	}
	else if (city.value == ""  || city.value.length < 1){
		alert('Please enter your city.');
		city.focus();
	}
	else if (localStorage.getItem("A4CSportsCity") == null || localStorage.getItem("A4CSportsCity") == "" && city.value.length > 1){
		alert('Please remember to complete Step 3 next time to save your City value!');
		localStorage.setItem("A4CSportsCity", city.value);
	}
	else if(age.value == 0){
		alert('Enter your jersey number.');
		age.focus();
	}
	else if (localStorage.getItem("A4CSportsAge") == null || localStorage.getItem("A4CSportsAge") == "0" && age.value > 0){
		alert('Please remember to complete Step 3 next time to save your Jersey number value!');
		localStorage.setItem("A4CSportsAge", age.value);
	}
	else {
		//passed validation
		window.location.href = 'Library.html';
	}	
}

//]]>
</script>
	
	
	<h2>HUT, HUT!</h2>
	
			<fieldset class="border">
			<legend><b>Step 1.&nbsp;&nbsp;Select your team and player.</b></legend><br />
			<label for="leagueSelect">Select your league</label><br>
			<select id="leagueSelect" onchange="leagueChange(this);">				
			<option value="empty"selected>Select a league</option>
			<option value="NFL" >National Football League</option>	
			</select>
			<br />
			<br>			  
			<label for="teamSelect">Select a team</label><br>
			<select id="teamSelect" onchange="teamChange(this);">
			<option value="0">Select a team</option>
			</select>
			<br />
			<br>			  
			<img id="imgTeam" align="left" src="img/Football/BlankSM.png" height="50" width="50"/>&nbsp;
			<label for="playerSelect">Roster </label><br>
			<select id="playerSelect" onchange="playerChange(this);">
			<option value="0">Select a player</option>
			</select>
			<br>
			<img id="imgPic" align="center" src="img/Football/BlankSM.png"/>
			<p id="pProfile" style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>
			</fieldset>
			<br />
			<br />
			<fieldset class="border">
			<legend><b>Step 2.&nbsp;&nbsp;Personalize the story.</b></legend><br /> 
			<input type="text" id="myName" name="myName" placeholder="What is your name?"/>
			<br />
			<br />
			<input type="text" id="myCity" name="myCity" placeholder="What is your city?"/>
			<br />
			<br />
			<label for="myAge">Enter a jersey number.</label><br>
			<input id="myAge" name="age" type="number" value="0" />
			</fieldset>
			<br/>
			<br/>
			<fieldset class="border">
			<legend><b>Step 3.&nbsp;&nbsp;Save settings.</b></legend><br /> 
			<b><input type="button" id="addToStorage" value="save"/></b>
			<br/><br/><br/>
			</fieldset>
			<br/>
			<br/>
			<fieldset class="border">
			<legend><b>Step 4.&nbsp;&nbsp;Review what you have entered.</b></legend><br /> 
			<li data-role="list-divider"><b>Values</b></li>
      <li class="storeItem" style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>/>
			<li class="storeItem2"style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>/>
			<li class="storeItem3"style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>/>
			<li class="storeItem4"style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>/>
			<li class="storeItem5"style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>/>
			<li class="storeItem6"style="color:black;text-shadow: 1px 1px #FFFFFF;font-family: "Times New Roman", Times, serif;"/>/>
			</fieldset>
      <br/>
			<br/>
			<fieldset class="border">
			<legend><b>Step 5.&nbsp;&nbsp;Click to read a story.</b></legend><br /> 
			<a href="#" onclick="validateProfile()" rel="external" data-transition="pop" data-role="button" data-prefetch><b>GO!</b></a>
      </fieldset>
	</section>
	
		
		
		
		<p>Note:  We do not collect or recieve any of your entered information and it is used only for the purposes of each story.</p>
	<div id="footer"><center>
		<img src="img/bannerSM2.jpg" /><br/>
			&copy; Apps4Canadians
			</center>
			<br>
	<center><a href="index.html" rel="external" data-transition="slideup" data-prefetch>| Home |</a> <a href="mailto:apps4canadians@live.com">| Contact |</a>  </center>
			
		</div><!-- /footer -->
	
</section>	
	
	
	</body>
</html>
	